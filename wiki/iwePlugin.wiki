#summary iwePlugin interface description
#labels Phase-Design

= Abstract =

*iwePlugin* is the basic interface for the plugins.

Plugin is the interface to the external dynamic library. The library provides method to create the contained plugin as the basic *iwePlugin* interface. Other interfaces may be requested from the plugin by calling the *!GetInterface* function. Plugin object can't be copied, use the *!GetInterface* function instead to obtain pointer to the plugin or copy the existing pointer if you are sure to control the object's lifetime. Program must avoid the explicit destruction of the plugin, because it may destroy the object, that can be used somewhere else. Use the *Release* function to free the pointer to the interface when it is no longer needed.

*Important modifications:*
|| *Date* || *Author* || *Description* ||
|| 19.06.2009  || A. Abramov || Creation ||

= Structure and relations = 

Followed scheme describes the structure of the plugins classes inheritance:

http://webapptools.googlecode.com/svn/wiki/images/iweplugin_graph.png [GraphLegend [legend]]


= Interface description =
== Functions ==
=== iwePlugin ===
Constructor. 
{{{
iwePlugin::iwePlugin ( WeDispatch* krnl, void* handle = NULL ); 	
}}}
*Parameters:*
    _krnl_      - Back-link to the kernel 
    
    _handle_    - The handle to the dynamic library. (may be *NULL*).

=== ~iwePlugin ===
Destructor
{{{
iwePlugin::~iwePlugin ( ) [inline, virtual]
}}}
----

=== ApplySettings ===
Applies the settings described by xmlData. 
{{{
void iwePlugin::ApplySettings ( const string & xmlData ) [inline, virtual]
}}}
----
*Parameters:*
    _xmlData_ 	- Plugin settings describing the XML.
----
Implemented in !DemoPlugin, !FsStorage, and !SqliteStorage.
----

=== GetDesc ===
Gets the plugin description.
{{{
const string iwePlugin::GetDesc ( ) [virtual]
}}}
----
*Return values:*
    The description. 
----

== Attributes ==
== Protected Attributes ==
== Private Functions ==

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iwePlugin::iwePlugin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_we_dispatch.html">WeDispatch</a> *&nbsp;</td>
          <td class="paramname"> <em>krnl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>handle</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>krnl</em>&nbsp;</td><td>- Back link to the kernel </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>- The handle to the contained library. </td></tr>
  </table>
</dl>

<p>

</div>
</div><p>
<a class="anchor" name="ef89a1aeae83082c8ffc14154d1d19c0"></a><!-- doxytag: member="iwePlugin::~iwePlugin" ref="ef89a1aeae83082c8ffc14154d1d19c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iwePlugin::~iwePlugin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<a class="anchor" name="a419785f3ec2e33118462e318de14dd6"></a><!-- doxytag: member="iwePlugin::iwePlugin" ref="a419785f3ec2e33118462e318de14dd6" args="(iwePlugin &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">iwePlugin::iwePlugin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiwe_plugin.html">iwePlugin</a> &amp;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6105673048ff5d280cbbc5a544efe55c"></a><!-- doxytag: member="iwePlugin::ApplySettings" ref="6105673048ff5d280cbbc5a544efe55c" args="(const string &amp;xmlData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iwePlugin::ApplySettings           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>xmlData</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Applies the settings described by xmlData. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>xmlData</em>&nbsp;</td><td>- Plugin settings describing the XML. </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="class_demo_plugin.html#596acba129298ae7ce16748a5366cb05">DemoPlugin</a>, <a class="el" href="class_fs_storage.html#29fa9a2113fe4e292e6e5edca726c4f9">FsStorage</a>, and <a class="el" href="class_sqlite_storage.html#da9520826b2b8fababf1ac5c0d72fac3">SqliteStorage</a>.</p>

</div>
</div><p>
<a class="anchor" name="26c80b9d9fd18e857f33160e30f9f424"></a><!-- doxytag: member="iwePlugin::GetDesc" ref="26c80b9d9fd18e857f33160e30f9f424" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string iwePlugin::GetDesc           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the plugin description. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>description. </td></tr>
  </table>
</dl>

<p>

</div>
</div><p>
<a class="anchor" name="ae0908993df510302413b5c358332e40"></a><!-- doxytag: member="iwePlugin::GetIcon" ref="ae0908993df510302413b5c358332e40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="we_strings_8h.html#eff4d74b6df2dcddff94c6921a7e7c8c">WeStringList</a> iwePlugin::GetIcon           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the icon. 
<p>
Returns pointer to the array of chars, that represents image in the XPM format. This image may be used to identify the plugin in GUI.<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>null</em>&nbsp;</td><td>if no icon, else the icon. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f4e080c1210ba7c9f20c4bbd06aff841"></a><!-- doxytag: member="iwePlugin::GetID" ref="f4e080c1210ba7c9f20c4bbd06aff841" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string iwePlugin::GetID           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the identifier. 
<p>
Returns string, what identifies this plugin. It may be GUID, or other unique identifier<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>identifier. </td></tr>
  </table>
</dl>

<p>

</div>
</div><p>
<a class="anchor" name="91d6f2adb0d59d9a14dd12c2cb3afd4f"></a><!-- doxytag: member="iwePlugin::GetInterface" ref="91d6f2adb0d59d9a14dd12c2cb3afd4f" args="(const string &amp;ifName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * iwePlugin::GetInterface           </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>ifName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets an interface. 
<p>
Returns abstracted pointer to the requested interface, or NULL if the requested interface isn't provided by this object. The interface name depends on the plugin implementation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ifName</em>&nbsp;</td><td>- Name of the interface.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>null</em>&nbsp;</td><td>if it fails, else the interface. </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="class_we_null_storage.html#f5e631dcf38fe1451de1948d146deb39">WeNullStorage</a>, <a class="el" href="class_we_h_t_t_p.html#1c0ee78e8f66ef6c8b014f9dc72db32e">WeHTTP</a>, <a class="el" href="class_we_http_invent.html#d40555e9d06c7b4f1ec621350abc093e">WeHttpInvent</a>, <a class="el" href="classiwe_inventory.html#e106def57e4b467e90a78b9bb7804293">iweInventory</a>, <a class="el" href="classiwe_storage.html#f6a26c0810e20e4ef18e39ffffd8595a">iweStorage</a>, <a class="el" href="classiwe_transport.html#b4ae2a23a24c6f8186963c9add0a5d7e">iweTransport</a>, <a class="el" href="class_we_mem_storage.html#3fda56fc565ada9966a8355deede4f26">WeMemStorage</a>, <a class="el" href="class_demo_plugin.html#280c85ca3aa059b0f49cdeead792e954">DemoPlugin</a>, <a class="el" href="class_fs_storage.html#39fb72971dbf08c9da0f81fe543aa807">FsStorage</a>, and <a class="el" href="class_sqlite_storage.html#0d19f750cc3fbfb21cac3f7ee24717bd">SqliteStorage</a>.</p>

<p>

</div>
</div><p>
<a class="anchor" name="97a3afc2228ed783e201eda87d0408f6"></a><!-- doxytag: member="iwePlugin::GetSetupUI" ref="97a3afc2228ed783e201eda87d0408f6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string iwePlugin::GetSetupUI           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the user interface for the setup dialog. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>The</em>&nbsp;</td><td>user interface in the XRC format (wxWidgets) or empty string if no setup dialog. </td></tr>
  </table>
</dl>

<p>Implemented in <a class="el" href="class_we_h_t_t_p.html#4fef81ef9ff2f6b90fabe7ca716cbe31">WeHTTP</a>, <a class="el" href="class_we_http_invent.html#399ddf5b0381dc994d0b71d16d6e50e5">WeHttpInvent</a>, <a class="el" href="class_demo_plugin.html#ddd5f5e1e9829144ddd1a56602be70a5">DemoPlugin</a>, <a class="el" href="class_fs_storage.html#d37a7357c90429edce1d2160b5167fd7">FsStorage</a>, and <a class="el" href="class_sqlite_storage.html#ac7e34e4c7a70ab9139e524bab0db2c1">SqliteStorage</a>.</p>

<p>

</div>
</div><p>
<a class="anchor" name="37d68e262baf448f0ae50adddc013222"></a><!-- doxytag: member="iwePlugin::Info" ref="37d68e262baf448f0ae50adddc013222" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_we_plugin_info.html">WePluginInfo</a> * iwePlugin::Info           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns information about this object. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>null</em>&nbsp;</td><td>if it fails, <a class="el" href="struct_we_plugin_info.html">WePluginInfo</a> else. </td></tr>
  </table>
</dl>

<p>

</div>
</div><p>
<a class="anchor" name="979657f5e54f032f6f47e5b4fe178bb5"></a><!-- doxytag: member="iwePlugin::InterfaceList" ref="979657f5e54f032f6f47e5b4fe178bb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="we_strings_8h.html#eff4d74b6df2dcddff94c6921a7e7c8c">WeStringList</a> iwePlugin::InterfaceList           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the list of supported Interfaces. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>strings</em>&nbsp;</td><td>list. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f6dd227d20355f7c6f8ea2fc1d4d0aa9"></a><!-- doxytag: member="iwePlugin::InterfaceName" ref="f6dd227d20355f7c6f8ea2fc1d4d0aa9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string iwePlugin::InterfaceName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the final Interface name. 
<p>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string.</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5e10f9589857d88e8cc3d33045211549"></a><!-- doxytag: member="iwePlugin::operator=" ref="5e10f9589857d88e8cc3d33045211549" args="(iwePlugin &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiwe_plugin.html">iwePlugin</a>&amp; iwePlugin::operator=           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiwe_plugin.html">iwePlugin</a> &amp;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Avoid object copying. 
<p>

</div>
</div><p>
<a class="anchor" name="79bf66a9fd38257225f1367a32bb5fc3"></a><!-- doxytag: member="iwePlugin::Release" ref="79bf66a9fd38257225f1367a32bb5fc3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iwePlugin::Release           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releases this object. 
<p>
Decrease usage counter and destroy object if counter is NULL 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classiwe_plugin_79bf66a9fd38257225f1367a32bb5fc3_cgraph.png" border="0" usemap="#classiwe_plugin_79bf66a9fd38257225f1367a32bb5fc3_cgraph_map" alt=""></center>
<map name="classiwe_plugin_79bf66a9fd38257225f1367a32bb5fc3_cgraph_map">
<area shape="rect" id="node3" href="class_we_logger.html#f5e15efee3227e90ce135f1fae1030ad" title="WeLogger::GetLogger" alt="" coords="188,5,335,33">
</map>
</div>

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="ccfc5bd22ae75ae8f588a578c74ee516"></a><!-- doxytag: member="iwePlugin::kernel" ref="ccfc5bd22ae75ae8f588a578c74ee516" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_we_dispatch.html">WeDispatch</a>* <a class="el" href="classiwe_plugin.html#ccfc5bd22ae75ae8f588a578c74ee516">iwePlugin::kernel</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="416e5d5d90d05f3e982033b73f9dac17"></a><!-- doxytag: member="iwePlugin::libHandle" ref="416e5d5d90d05f3e982033b73f9dac17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="classiwe_plugin.html#416e5d5d90d05f3e982033b73f9dac17">iwePlugin::libHandle</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b6f52f0c271c6a3621b486cbffead868"></a><!-- doxytag: member="iwePlugin::logger" ref="b6f52f0c271c6a3621b486cbffead868" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log4cxx::LoggerPtr <a class="el" href="classiwe_plugin.html#b6f52f0c271c6a3621b486cbffead868">iwePlugin::logger</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bdcab65a66151709e0248fef89dd19fa"></a><!-- doxytag: member="iwePlugin::pluginInfo" ref="bdcab65a66151709e0248fef89dd19fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_we_plugin_info.html">WePluginInfo</a> <a class="el" href="classiwe_plugin.html#bdcab65a66151709e0248fef89dd19fa">iwePlugin::pluginInfo</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="893cd1b89961828bccff7ecc19dee701"></a><!-- doxytag: member="iwePlugin::usageCount" ref="893cd1b89961828bccff7ecc19dee701" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classiwe_plugin.html#893cd1b89961828bccff7ecc19dee701">iwePlugin::usageCount</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div>